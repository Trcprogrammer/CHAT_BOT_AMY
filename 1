import tkinter as tk
import os
import google.generativeai as genai

class GeminiChat:
    def __init__(self, master):
        self.master = master
        self.master.title("Gemini Chat")
        self.master.geometry("400x600")

        # Set up Gemini API key
        self.GOOGLE_API_KEY = 'AIzaSyB59rBGeRBGImIwtNUfLNRtVyWmtHwm67o'
        os.environ['GOOGLE_API_KEY'] = self.GOOGLE_API_KEY
        genai.configure(api_key=os.environ['GOOGLE_API_KEY'])

        # Set up Gemini model
        self.modelo = genai.GenerativeModel('gemini-pro')

        self.chat_history = tk.Text(self.master, width=40, height=20)
        self.chat_history.pack(padx=10, pady=10)

        self.input_field = tk.Entry(self.master, width=40)
        self.input_field.pack(padx=10, pady=10)

        self.send_button = tk.Button(self.master, text="Send", command=self.send_message)
        self.send_button.pack(padx=10, pady=10)

        self.clear_button = tk.Button(self.master, text="Clear Chat", command=self.clear_chat)
        self.clear_button.pack(padx=10, pady=10)

        self.switch_button = tk.Button(self.master, text="Switch to Other Chat", command=self.switch_chat)
        self.switch_button.pack(padx=10, pady=10)

    def send_message(self):
        user_input = self.input_field.get()
        self.input_field.delete(0, tk.END)

        # Generate response using Gemini model
        respuesta = self.modelo.generate_content(user_input)
        respuesta = respuesta.text

        # Display response in chat history
        self.chat_history.insert(tk.END, f"IA:{respuesta}\N")
    